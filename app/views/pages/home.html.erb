<% content_for :title, "AllShared - Community Sharing Platform" %>

<!-- Hero Section -->
<section id="hero-search" class="hero bg-primary text-white py-5">
  <div class="container">
    <div class="row align-items-center min-vh-75">
      <div class="col-lg-6">
        <h1 class="display-4 fw-bold mb-4">Share. Borrow. Connect.</h1>
        <p class="lead mb-4">
          Join your local community in a culture of generous sharing. Borrow what you need,
          lend what you can, and build connections that matter.
        </p>

        <!-- Suburb Input with Autocomplete -->
        <div
          class="position-relative mb-4"
          data-controller="suburb-autocomplete"
          data-action="click@document->suburb-autocomplete#clickOutside suburb:selected->suburb-autocomplete#navigateToInterest"
        >
          <div class="form-floating">
            <input
              type="text"
              class="form-control form-control-lg"
              id="suburb-input"
              placeholder="Start typing your suburb..."
              data-suburb-autocomplete-target="input"
              data-action="input->suburb-autocomplete#search keydown->suburb-autocomplete#handleKeydown focus->suburb-autocomplete#showHint"
              autocomplete="off"
            >
            <label for="suburb-input" class="text-muted">
              <i class="bi bi-geo-alt me-2"></i>Enter your suburb to see local interest
            </label>
          </div>

          <!-- Hidden fields for lat/lng -->
          <input type="hidden" data-suburb-autocomplete-target="hiddenLat">
          <input type="hidden" data-suburb-autocomplete-target="hiddenLng">

          <!-- Autocomplete Dropdown -->
          <div
            class="dropdown-menu w-100 shadow-lg"
            data-suburb-autocomplete-target="dropdown"
            style="max-height: 300px; overflow-y: auto;"
          ></div>
        </div>

        <p class="text-white-50">
          <small><i class="bi bi-info-circle"></i> Start typing to search, then click a location to explore</small>
        </p>
      </div>

      <div class="col-lg-6 text-center">
        <div class="hero-illustration p-4">
          <i class="bi bi-people-fill text-white opacity-75" style="font-size: 8rem;"></i>
          <div class="mt-3">
            <i class="bi bi-arrow-left-right text-success" style="font-size: 2rem;"></i>
          </div>
          <div class="d-flex justify-content-center gap-4 mt-3">
            <i class="bi bi-tools text-white opacity-75" style="font-size: 3rem;"></i>
            <i class="bi bi-book text-white opacity-75" style="font-size: 3rem;"></i>
            <i class="bi bi-bicycle text-white opacity-75" style="font-size: 3rem;"></i>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- How It Works Section -->
<section class="how-it-works py-5 bg-light">
  <div class="container">
    <div class="row">
      <div class="col-12 text-center mb-5">
        <h2 class="h1 fw-bold text-dark">How AllShared Works</h2>
        <p class="lead text-muted">Simple, safe, and community-focused</p>
      </div>
    </div>

    <div class="row g-4">
      <div class="col-md-4 text-center">
        <div class="step-card h-100">
          <div class="step-icon mb-3">
            <div class="rounded-circle bg-primary text-white d-inline-flex align-items-center justify-content-center" style="width: 80px; height: 80px;">
              <i class="bi bi-plus-circle-fill" style="font-size: 2rem;"></i>
            </div>
          </div>
          <h3 class="h4 fw-bold">1. List Items</h3>
          <p class="text-muted">
            Share items you're happy to lend - from tools and books to sports equipment and more.
          </p>
        </div>
      </div>

      <div class="col-md-4 text-center">
        <div class="step-card h-100">
          <div class="step-icon mb-3">
            <div class="rounded-circle bg-success text-white d-inline-flex align-items-center justify-content-center" style="width: 80px; height: 80px;">
              <i class="bi bi-geo-alt-fill" style="font-size: 2rem;"></i>
            </div>
          </div>
          <h3 class="h4 fw-bold">2. Browse Nearby</h3>
          <p class="text-muted">
            Discover what's available in your neighborhood from trusted community members.
          </p>
        </div>
      </div>

      <div class="col-md-4 text-center">
        <div class="step-card h-100">
          <div class="step-icon mb-3">
            <div class="rounded-circle bg-info text-white d-inline-flex align-items-center justify-content-center" style="width: 80px; height: 80px;">
              <i class="bi bi-gift" style="font-size: 2rem;"></i>
            </div>
          </div>
          <h3 class="h4 fw-bold">3. Borrow for Free</h3>
          <p class="text-muted">
            Connect safely, arrange pickup, and enjoy using what you need without the cost of buying.
          </p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Values Section -->
<section class="values py-5">
  <div class="container">
    <div class="row">
      <div class="col-12 text-center mb-5">
        <h2 class="h1 fw-bold text-dark">Built on Community Values</h2>
        <p class="lead text-muted">More than just borrowing - it's about building a better community together</p>
      </div>
    </div>

    <div class="row g-4">
      <div class="col-lg-4">
        <div class="value-card h-100">
          <div class="d-flex align-items-center mb-3">
            <i class="bi bi-heart-fill text-danger me-3" style="font-size: 2rem;"></i>
            <h3 class="h4 fw-bold mb-0">Generosity</h3>
          </div>
          <p class="text-muted mb-3">
            Share freely with your neighbors. When you lend, you're building a culture of generosity that
            benefits everyone in your community.
          </p>
          <div class="small text-muted">
            <i class="bi bi-gift"></i> Optional charity donations let borrowers say thanks while supporting causes that matter
          </div>
        </div>
      </div>

      <div class="col-lg-4">
        <div class="value-card h-100">
          <div class="d-flex align-items-center mb-3">
            <i class="bi bi-recycle text-success me-3" style="font-size: 2rem;"></i>
            <h3 class="h4 fw-bold mb-0">Sustainability</h3>
          </div>
          <p class="text-muted mb-3">
            Reduce consumption by sharing existing resources. Every item borrowed is one less item that needs
            to be manufactured, packaged, and shipped.
          </p>
          <div class="small text-muted">
            <i class="bi bi-leaf"></i> Small actions that add up to a big environmental impact
          </div>
        </div>
      </div>

      <div class="col-lg-4">
        <div class="value-card h-100">
          <div class="d-flex align-items-center mb-3">
            <i class="bi bi-people-fill text-primary me-3" style="font-size: 2rem;"></i>
            <h3 class="h4 fw-bold mb-0">Community</h3>
          </div>
          <p class="text-muted mb-3">
            Strengthen local connections through sharing. Meet your neighbors, build trust, and create
            a network of mutual support in your area.
          </p>
          <div class="small text-muted">
            <i class="bi bi-shield-check"></i> Safe exchanges with community-driven trust and reputation
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Features Preview Section -->
<section class="features py-5 bg-light">
  <div class="container">
    <div class="row">
      <div class="col-12 text-center mb-5">
        <h2 class="h1 fw-bold text-dark">Platform Features</h2>
        <p class="lead text-muted">Designed for safe, easy, and meaningful sharing</p>
      </div>
    </div>

    <div class="row g-4">
      <div class="col-md-6 col-lg-3">
        <div class="feature-card h-100">
          <i class="bi bi-arrow-left-right text-primary mb-3" style="font-size: 3rem;"></i>
          <h4 class="fw-bold">Peer-to-Peer Borrowing</h4>
          <p class="text-muted small">Direct connections between community members</p>
        </div>
      </div>

      <div class="col-md-6 col-lg-3">
        <div class="feature-card h-100">
          <i class="bi bi-star-fill text-warning mb-3" style="font-size: 3rem;"></i>
          <h4 class="fw-bold">Trust System</h4>
          <p class="text-muted small">Community-driven ratings and reputation building</p>
        </div>
      </div>

      <div class="col-md-6 col-lg-3">
        <div class="feature-card h-100">
          <i class="bi bi-incognito text-info mb-3" style="font-size: 3rem;"></i>
          <h4 class="fw-bold">Privacy First</h4>
          <p class="text-muted small">Pseudonymous profiles protect your personal information</p>
        </div>
      </div>

      <div class="col-md-6 col-lg-3">
        <div class="feature-card h-100">
          <i class="bi bi-shield-fill-check text-success mb-3" style="font-size: 3rem;"></i>
          <h4 class="fw-bold">Safe Exchanges</h4>
          <p class="text-muted small">Optional collateral system for valuable items</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Call to Action Section -->
<section class="cta py-5 bg-primary text-white">
  <div class="container">
    <div class="row justify-content-center text-center">
      <div class="col-lg-8">
        <h2 class="h1 fw-bold mb-4">Ready to Build Community?</h2>
        <p class="lead mb-4">
          The stronger our local communities, the sooner we can launch.
          Start by finding others in your area who share the vision of generous community sharing.
        </p>

        <div class="d-flex justify-content-center">
          <button 
            class="btn btn-success btn-lg"
            onclick="document.getElementById('suburb-input').scrollIntoView({behavior: 'smooth'}); setTimeout(() => document.getElementById('suburb-input').focus(), 500);"
          >
            <i class="bi bi-geo-alt-fill"></i> Find Your Community
          </button>
        </div>

        <p class="mt-4 text-white-50">
          <small>
            <i class="bi bi-people"></i> 
            Join the waitlist to see local interest and help us prioritize your area for launch
          </small>
        </p>

        <!-- Community Values Statement -->
        <div class="mt-5 p-4 bg-white bg-opacity-10 rounded">
          <p class="mb-0 small">
            <i class="bi bi-quote"></i>
            <em>
              "All the believers were one in heart and mind. No one claimed that any of their possessions
              was their own, but they shared everything they had."
            </em>
            <br>
            <small class="text-white-75">- Acts 4:32, inspiring our vision of community sharing</small>
          </p>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .min-vh-75 {
    min-height: 75vh;
  }

  .hero-illustration {
    animation: float 3s ease-in-out infinite;
  }

  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
  }

  .step-card, .value-card, .feature-card {
    transition: transform 0.3s ease;
  }

  .step-card:hover, .value-card:hover, .feature-card:hover {
    transform: translateY(-5px);
  }

  .text-white-75 {
    color: rgba(255, 255, 255, 0.75) !important;
  }
</style>
